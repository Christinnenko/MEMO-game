{"ast":null,"code":"import _slicedToArray from\"/Users/christinnenko/Documents/skyPro-git/react-memo-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{getAllScore}from\"../../api\";import styles from\"./Leaderboard.module.css\";import{formatTime}from\"../../helpers\";import{ToolTips}from\"../../utils/tooltips/tooltip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function Leaderboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leaders=_useState2[0],setLeaders=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),hoveredAchievement=_useState4[0],setHoveredAchievement=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),hoveredIndex=_useState6[0],setHoveredIndex=_useState6[1];useEffect(function(){loadLeaderboardData();},[]);var loadLeaderboardData=function loadLeaderboardData(){getAllScore().then(function(data){setLeaders(data.leaders);}).catch(function(error){console.error(error);});};var isHardLevel=function isHardLevel(achievements){return achievements&&achievements.includes(1);};var isWithoutSuperpowers=function isWithoutSuperpowers(achievements){return achievements&&achievements.includes(2);};var handleAchievementHover=function handleAchievementHover(achievement,index){setHoveredAchievement(achievement);setHoveredIndex(index);};var handleAchievementLeave=function handleAchievementLeave(){setHoveredAchievement(null);setHoveredIndex(null);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.leaderboardContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.leaderboard,\" \").concat(styles.leaderboardTitle),children:[/*#__PURE__*/_jsx(\"p\",{className:styles.item,children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.itemName,children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.item,children:\"\\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.item,children:\"\\u0412\\u0440\\u0435\\u043C\\u044F\"})]}),/*#__PURE__*/_jsx(_Fragment,{children:leaders.slice().sort(function(a,b){return a.time-b.time;}).map(function(leader,index){var position=index+1;return/*#__PURE__*/_jsxs(\"div\",{className:styles.leaderboard,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.item,children:\"# \".concat(position)}),/*#__PURE__*/_jsx(\"p\",{className:styles.itemName,children:leader.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.itemContainer,\" \").concat(styles.toolTipPiphany),children:[isHardLevel(leader.achievements)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./puzzle.svg\",alt:\"\\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0435 '\\u0441\\u043B\\u043E\\u0436\\u043D\\u044B\\u0439 \\u0440\\u0435\\u0436\\u0438\\u043C' \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E\",onMouseEnter:function onMouseEnter(){return handleAchievementHover(\"puzzle\",index);},onMouseLeave:handleAchievementLeave}),hoveredAchievement===\"puzzle\"&&hoveredIndex===index&&/*#__PURE__*/_jsx(\"div\",{className:styles.tooltipHardLevel,children:/*#__PURE__*/_jsx(ToolTips,{text:\"Игра пройдена в сложном режиме\"})})]}):/*#__PURE__*/_jsx(\"img\",{src:\"./no-puzzle.svg\",alt:\"\\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0435 '\\u0441\\u043B\\u043E\\u0436\\u043D\\u044B\\u0439 \\u0440\\u0435\\u0436\\u0438\\u043C' \\u043D\\u0435 \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E\"}),isWithoutSuperpowers(leader.achievements)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"./magic_ball.svg\",alt:\"\\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0435 '\\u043D\\u0435 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0443\\u043F\\u0435\\u0440\\u0441\\u0438\\u043B\\u044B' \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E\",onMouseEnter:function onMouseEnter(){return handleAchievementHover(\"magicBall\",index);},onMouseLeave:handleAchievementLeave}),hoveredAchievement===\"magicBall\"&&hoveredIndex===index&&/*#__PURE__*/_jsx(\"div\",{className:styles.tooltipWithoutSuperPower,children:/*#__PURE__*/_jsx(ToolTips,{text:\"Игра пройдена без супер-сил\"})})]}):/*#__PURE__*/_jsx(\"img\",{src:\"./no-magic_ball.svg\",alt:\"\\u0414\\u043E\\u0441\\u0442\\u0438\\u0436\\u0435\\u043D\\u0438\\u0435 '\\u043D\\u0435 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u0443\\u043F\\u0435\\u0440\\u0441\\u0438\\u043B\\u044B' \\u043D\\u0435 \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E\"})]}),/*#__PURE__*/_jsx(\"p\",{className:styles.item,children:formatTime(leader.time)})]},index);})})]});}","map":{"version":3,"names":["useEffect","useState","getAllScore","styles","formatTime","ToolTips","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Leaderboard","_useState","_useState2","_slicedToArray","leaders","setLeaders","_useState3","_useState4","hoveredAchievement","setHoveredAchievement","_useState5","_useState6","hoveredIndex","setHoveredIndex","loadLeaderboardData","then","data","catch","error","console","isHardLevel","achievements","includes","isWithoutSuperpowers","handleAchievementHover","achievement","index","handleAchievementLeave","className","leaderboardContainer","children","concat","leaderboard","leaderboardTitle","item","itemName","slice","sort","a","b","time","map","leader","position","name","itemContainer","toolTipPiphany","src","alt","onMouseEnter","onMouseLeave","tooltipHardLevel","text","tooltipWithoutSuperPower"],"sources":["/Users/christinnenko/Documents/skyPro-git/react-memo-game/src/components/Leaderboard/Leaderboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getAllScore } from \"../../api\";\nimport styles from \"./Leaderboard.module.css\";\nimport { formatTime } from \"../../helpers\";\nimport { ToolTips } from \"../../utils/tooltips/tooltip\";\n\nexport function Leaderboard() {\n  const [leaders, setLeaders] = useState([]);\n  const [hoveredAchievement, setHoveredAchievement] = useState(null);\n  const [hoveredIndex, setHoveredIndex] = useState(null);\n\n  useEffect(() => {\n    loadLeaderboardData();\n  }, []);\n\n  const loadLeaderboardData = () => {\n    getAllScore()\n      .then(data => {\n        setLeaders(data.leaders);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  };\n\n  const isHardLevel = achievements => achievements && achievements.includes(1);\n  const isWithoutSuperpowers = achievements => achievements && achievements.includes(2);\n\n  const handleAchievementHover = (achievement, index) => {\n    setHoveredAchievement(achievement);\n    setHoveredIndex(index);\n  };\n\n  const handleAchievementLeave = () => {\n    setHoveredAchievement(null);\n    setHoveredIndex(null);\n  };\n\n  return (\n    <div className={styles.leaderboardContainer}>\n      <div className={`${styles.leaderboard} ${styles.leaderboardTitle}`}>\n        <p className={styles.item}>Позиция</p>\n        <p className={styles.itemName}>Пользователь</p>\n        <p className={styles.item}>Достижения</p>\n        <p className={styles.item}>Время</p>\n      </div>\n      <>\n        {leaders\n          .slice()\n          .sort((a, b) => a.time - b.time)\n          .map((leader, index) => {\n            const position = index + 1;\n            return (\n              <div className={styles.leaderboard} key={index}>\n                <p className={styles.item}>{`# ${position}`}</p>\n                <p className={styles.itemName}>{leader.name}</p>\n                <div className={`${styles.itemContainer} ${styles.toolTipPiphany}`}>\n                  {isHardLevel(leader.achievements) ? (\n                    <>\n                      <img\n                        src=\"./puzzle.svg\"\n                        alt=\"Достижение 'сложный режим' открыто\"\n                        onMouseEnter={() => handleAchievementHover(\"puzzle\", index)}\n                        onMouseLeave={handleAchievementLeave}\n                      />\n                      {hoveredAchievement === \"puzzle\" && hoveredIndex === index && (\n                        <div className={styles.tooltipHardLevel}>\n                          <ToolTips text={\"Игра пройдена в сложном режиме\"} />\n                        </div>\n                      )}\n                    </>\n                  ) : (\n                    <img src=\"./no-puzzle.svg\" alt=\"Достижение 'сложный режим' не открыто\" />\n                  )}\n                  {isWithoutSuperpowers(leader.achievements) ? (\n                    <>\n                      <img\n                        src=\"./magic_ball.svg\"\n                        alt=\"Достижение 'не использовать суперсилы' открыто\"\n                        onMouseEnter={() => handleAchievementHover(\"magicBall\", index)}\n                        onMouseLeave={handleAchievementLeave}\n                      />\n                      {hoveredAchievement === \"magicBall\" && hoveredIndex === index && (\n                        <div className={styles.tooltipWithoutSuperPower}>\n                          <ToolTips text={\"Игра пройдена без супер-сил\"} />\n                        </div>\n                      )}\n                    </>\n                  ) : (\n                    <img src=\"./no-magic_ball.svg\" alt=\"Достижение 'не использовать суперсилы' не открыто\" />\n                  )}\n                </div>\n                <p className={styles.item}>{formatTime(leader.time)}</p>\n              </div>\n            );\n          })}\n      </>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}