{"ast":null,"code":"import _slicedToArray from\"/Users/christinnenko/Documents/skyPro-git/react-memo-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./EndGameModal.module.css\";import{Button}from\"../Button/Button\";import deadImageUrl from\"./images/dead.png\";import celebrationImageUrl from\"./images/celebration.png\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{postUserScore}from\"../../api\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function EndGameModal(_ref){var isLeader=_ref.isLeader,isWon=_ref.isWon,gameDurationSeconds=_ref.gameDurationSeconds,gameDurationMinutes=_ref.gameDurationMinutes,onClick=_ref.onClick,withoutSuperpowers=_ref.withoutSuperpowers;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];// Состояние для хранения введенного имени пользователя\n// Функция для обработки изменений в поле ввода имени\nvar handleNameChange=function handleNameChange(event){setUserName(event.target.value);// Обновляем состояние с введенным именем\n};//состояние легкого режима\nvar isEasyMode=useSelector(function(state){return state.game.isEasyMode;});function achievements(){var achievementsArray=[];if(isEasyMode===false&&withoutSuperpowers===true){achievementsArray.push(1,2);}else if(isEasyMode===false&&withoutSuperpowers===false){achievementsArray.push(1);}else if(isEasyMode===true&&withoutSuperpowers===true){achievementsArray.push(2);}return achievementsArray;}var handleAddLeader=function handleAddLeader(){var nameToSend=userName.trim()!==\"\"?userName:\"Пользователь\";var achievementsToSend=achievements();postUserScore({name:nameToSend,time:gameDurationSeconds,achievements:achievementsToSend});onClick();};var title=isWon?isLeader===true?\"Вы попали на Лидерборд!\":\"Вы победили!\":\"Вы проиграли!\";var imgSrc=isWon?celebrationImageUrl:deadImageUrl;var imgAlt=isWon?\"celebration emodji\":\"dead emodji\";return/*#__PURE__*/_jsxs(\"div\",{className:styles.modal,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.image,src:imgSrc,alt:imgAlt}),/*#__PURE__*/_jsx(\"h2\",{className:styles.title,children:title}),isLeader?/*#__PURE__*/_jsx(\"input\",{className:styles.inputName,placeholder:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",value:userName,onChange:handleNameChange}):\"\",/*#__PURE__*/_jsx(\"p\",{className:styles.description,children:\"\\u0417\\u0430\\u0442\\u0440\\u0430\\u0447\\u0435\\u043D\\u043D\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.time,children:[gameDurationMinutes.toString().padStart(\"2\",\"0\"),\".\",gameDurationSeconds.toString().padStart(\"2\",\"0\")]}),/*#__PURE__*/_jsx(Button,{onClick:handleAddLeader,children:\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0441\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"}),isLeader?/*#__PURE__*/_jsx(Link,{className:styles.leaderboardLink,to:\"/leaderboard\",onClick:handleAddLeader,children:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043A \\u043B\\u0438\\u0434\\u0435\\u0440\\u0431\\u043E\\u0440\\u0434\\u0443\"}):\"\"]});}","map":{"version":3,"names":["styles","Button","deadImageUrl","celebrationImageUrl","Link","useState","postUserScore","useSelector","jsx","_jsx","jsxs","_jsxs","EndGameModal","_ref","isLeader","isWon","gameDurationSeconds","gameDurationMinutes","onClick","withoutSuperpowers","_useState","_useState2","_slicedToArray","userName","setUserName","handleNameChange","event","target","value","isEasyMode","state","game","achievements","achievementsArray","push","handleAddLeader","nameToSend","trim","achievementsToSend","name","time","title","imgSrc","imgAlt","className","modal","children","image","src","alt","inputName","placeholder","onChange","description","toString","padStart","leaderboardLink","to"],"sources":["/Users/christinnenko/Documents/skyPro-git/react-memo-game/src/components/EndGameModal/EndGameModal.jsx"],"sourcesContent":["import styles from \"./EndGameModal.module.css\";\nimport { Button } from \"../Button/Button\";\nimport deadImageUrl from \"./images/dead.png\";\nimport celebrationImageUrl from \"./images/celebration.png\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { postUserScore } from \"../../api\";\nimport { useSelector } from \"react-redux\";\n\nexport function EndGameModal({\n  isLeader,\n  isWon,\n  gameDurationSeconds,\n  gameDurationMinutes,\n  onClick,\n  withoutSuperpowers,\n}) {\n  const [userName, setUserName] = useState(\"\"); // Состояние для хранения введенного имени пользователя\n\n  // Функция для обработки изменений в поле ввода имени\n  const handleNameChange = event => {\n    setUserName(event.target.value); // Обновляем состояние с введенным именем\n  };\n\n  //состояние легкого режима\n  const isEasyMode = useSelector(state => state.game.isEasyMode);\n\n  function achievements() {\n    const achievementsArray = [];\n    if (isEasyMode === false && withoutSuperpowers === true) {\n      achievementsArray.push(1, 2);\n    } else if (isEasyMode === false && withoutSuperpowers === false) {\n      achievementsArray.push(1);\n    } else if (isEasyMode === true && withoutSuperpowers === true) {\n      achievementsArray.push(2);\n    }\n    return achievementsArray;\n  }\n\n  const handleAddLeader = () => {\n    const nameToSend = userName.trim() !== \"\" ? userName : \"Пользователь\";\n    const achievementsToSend = achievements();\n    postUserScore({ name: nameToSend, time: gameDurationSeconds, achievements: achievementsToSend });\n    onClick();\n  };\n\n  const title = isWon ? (isLeader === true ? \"Вы попали на Лидерборд!\" : \"Вы победили!\") : \"Вы проиграли!\";\n\n  const imgSrc = isWon ? celebrationImageUrl : deadImageUrl;\n\n  const imgAlt = isWon ? \"celebration emodji\" : \"dead emodji\";\n\n  return (\n    <div className={styles.modal}>\n      <img className={styles.image} src={imgSrc} alt={imgAlt} />\n      <h2 className={styles.title}>{title}</h2>\n      {isLeader ? (\n        <input\n          className={styles.inputName}\n          placeholder=\"Пользователь\"\n          value={userName}\n          onChange={handleNameChange}\n        ></input>\n      ) : (\n        \"\"\n      )}\n      <p className={styles.description}>Затраченное время:</p>\n      <div className={styles.time}>\n        {gameDurationMinutes.toString().padStart(\"2\", \"0\")}.{gameDurationSeconds.toString().padStart(\"2\", \"0\")}\n      </div>\n\n      <Button onClick={handleAddLeader}>Начать сначала</Button>\n      {isLeader ? (\n        <Link className={styles.leaderboardLink} to=\"/leaderboard\" onClick={handleAddLeader}>\n          Перейти к лидерборду\n        </Link>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}